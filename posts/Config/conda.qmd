---
title: "conda"
date: "2024-11-01"
date-modified: today
categories: [config]
---

<https://docs.anaconda.com/miniconda/>

## Miniconda

```{r eval=FALSE}
# 安装miniconda环境
install_miniconda()

# 显示miniconda安装地址
miniconda_path()

# 更新miniconda环境
miniconda_update()
```

## conda环境管理

```{r}
library(reticulate)
# 查看当前可用conda环境
conda_list()
py_config()
```

```{r eval=FALSE}
use_condaenv(condaenv = "base", required = TRUE)


conda_create(envname = "r-reticulate") 
conda_install(envname = "r-reticulate", packages = c("polars"))
```

```{r eval=FALSE}
conda_remove(envname = "r-reticulate")
conda_clone()
conda_export()
conda_update()
conda_version()
```

![](images/clipboard-3323027827.png){fig-align="center"}

```{r}
.libPaths()

#> [1] "C:/Users/DELL/AppData/Local/R/win-library/4.4" "D:/R-4.4.1/library"  
#.libPaths(c("/envs/新路径", .libPaths()))
```

```{r}
.libPaths(.libPaths()[.libPaths() != "C:/Users/DELL/AppData/Local/R/win-library/4.4"])
.libPaths()
```

## 调用Python

```{r}
py_module_available("pip")
py_module_available("pandas")
#py_install(packages = "polars", envname = "base")

py_module_available("polars")
```

```{r}
# python脚本
py_run_file("helloworld.py")

source_python("helloworld.py")
```

```{r}
# Python 交互
reticulate::repl_python()
```

```{r}
pl <- import("polars")

pl$read_clipboard()
```
